{
  "hash": "1afdd5f84d098a912a4abe4e32f57480",
  "result": {
    "markdown": "---\ntitle: \"MI segundo grafico ggplot2\"\nauthor: \"Percy Soto Becerra\"\n---\n\n\n## Cargar las librerías\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n✔ ggplot2 3.3.6     ✔ purrr   0.3.4\n✔ tibble  3.1.8     ✔ dplyr   1.0.9\n✔ tidyr   1.2.0     ✔ stringr 1.4.0\n✔ readr   2.1.2     ✔ forcats 0.5.1\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n```\n:::\n\n```{.r .cell-code}\nlibrary(haven)\nlibrary(rio)\nlibrary(ggplot2)\n```\n:::\n\n\n## Importar datos\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndatos <- as_factor(read_stata(\"maca_meno_fase1.dta\"))\n```\n:::\n\n\n## Inspeccionar datos\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(datos)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 106\nColumns: 14\n$ id         <dbl> 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 1…\n$ time       <fct> Baseline, 3 months, Baseline, 3 months, Baseline, 3 months,…\n$ treat      <fct> Placebo, Placebo, Dosis 2, Dosis 2, Dosis 1, Dosis 1, Dosis…\n$ age        <dbl> 33, 32, 27, 27, 25, 25, 37, 38, 31, 32, 38, 38, 26, 26, 34,…\n$ race       <chr> \"Mestiza\", \"Mestiza\", \"Mestiza\", \"Mestiza\", \"Mestiza\", \"Mes…\n$ married    <fct> Single, Single, Single, Single, Single, Single, Divorced, D…\n$ married2   <fct> Without couple, Without couple, Without couple, Without cou…\n$ procedence <chr> \"Callao\", \"Callao\", \"Santa Anita\", \"Santa Anita\", \"Callao\",…\n$ weight     <dbl> 59.0, 59.9, 62.0, 62.1, 62.0, 60.0, 60.9, 61.4, 64.0, 58.1,…\n$ height     <dbl> 1.4, 1.3, 1.5, 1.6, 1.6, 1.6, 1.5, 1.5, 1.5, 1.6, 1.5, 1.5,…\n$ e2         <dbl> 87.30, 210.05, 169.01, 99.91, 78.76, 155.04, 40.99, 109.03,…\n$ lh         <dbl> 3.28, 26.85, 6.34, 5.77, 11.86, 10.14, 4.57, 7.29, 7.81, 9.…\n$ fsh        <dbl> 1.95, 8.83, 4.32, 1.70, 2.81, 4.51, 3.81, 2.39, 2.01, 3.66,…\n$ prog       <dbl> 14.20, 12.95, 0.50, 9.61, 10.46, 5.04, 4.64, 11.73, 15.11, …\n```\n:::\n:::\n\n\n\n## Cree un gráfico de dispersión de puntos que relacione el peso (variable weight, en el eje x) con la hormona foliculo estimulante (variable fsh, en el eje y).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(datos, \n       aes(x = weight, y = fsh)) + \n  geom_point()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing missing values (geom_point).\n```\n:::\n\n::: {.cell-output-display}\n![](mi_segundo_ggplot_solucion_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n\n## Cree otro gráfico que también diferencie los grupos de tratamiento (variable treat) mediante colores diferentes. Tip: mapee colour con treat.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(datos, \n       aes(x = weight, y = fsh, colour = treat)) + \n  geom_point()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing missing values (geom_point).\n```\n:::\n\n::: {.cell-output-display}\n![](mi_segundo_ggplot_solucion_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n## Cree otro gráfico que taambién diferencie el tiempo de medición (variable time) con formas diferentes. Tip: mapee shape con time.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(datos, \n       aes(x = weight, y = fsh, colour = treat, shape = time)) + \n  geom_point()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing missing values (geom_point).\n```\n:::\n\n::: {.cell-output-display}\n![](mi_segundo_ggplot_solucion_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n## Reutilizando el código anterior, configure la transparencie en 0.5. Tip: configure el alpha dentro de la geometría.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(datos, \n       aes(x = weight, y = fsh, colour = treat, shape = time)) + \n  geom_point(alpha = 0.5)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing missing values (geom_point).\n```\n:::\n\n::: {.cell-output-display}\n![](mi_segundo_ggplot_solucion_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n## Aplique una transformación logarítmica a la variable fsh. Tipo: Aplique log() directamente sobre la variable fsh dentro del chunk de código ya elaborado.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(datos, \n       aes(x = weight, y = log(fsh), colour = treat, shape = time)) + \n  geom_point(alpha = 0.5)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing missing values (geom_point).\n```\n:::\n\n::: {.cell-output-display}\n![](mi_segundo_ggplot_solucion_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n## Divida en facetas los gráficos: 1) Una faceta para cada tratamiento; y 2) Una faceta para tratamiento – tiempo. Tip: Use facet__wrap() y facet_grid()\n\n- Una faceta para cada tratamiento:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(datos, \n       aes(x = weight, y = log(fsh), colour = treat, shape = time)) + \n  geom_point(alpha = 0.5) + \n  facet_grid(.~treat)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing missing values (geom_point).\n```\n:::\n\n::: {.cell-output-display}\n![](mi_segundo_ggplot_solucion_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(datos, \n       aes(x = weight, y = log(fsh), colour = treat, shape = time)) + \n  geom_point(alpha = 0.5) + \n  facet_grid(treat~.)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing missing values (geom_point).\n```\n:::\n\n::: {.cell-output-display}\n![](mi_segundo_ggplot_solucion_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\nUna faceta para tratamiento – tiempo\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(datos, \n       aes(x = weight, y = log(fsh), colour = treat, shape = time)) + \n  geom_point(alpha = 0.5) + \n  facet_wrap(treat ~ time)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing missing values (geom_point).\n```\n:::\n\n::: {.cell-output-display}\n![](mi_segundo_ggplot_solucion_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(datos, \n       aes(x = weight, y = log(fsh), colour = treat, shape = time)) + \n  geom_point(alpha = 0.5) + \n  facet_wrap(time ~ treat)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing missing values (geom_point).\n```\n:::\n\n::: {.cell-output-display}\n![](mi_segundo_ggplot_solucion_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\n## Utilice el tema completo theme_bw().\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(datos, \n       aes(x = weight, y = log(fsh), colour = treat, shape = time)) + \n  geom_point(alpha = 0.5) + \n  facet_wrap(time ~ treat) + \n  theme_bw()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing missing values (geom_point).\n```\n:::\n\n::: {.cell-output-display}\n![](mi_segundo_ggplot_solucion_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n\n## Bonus: Temas extra\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(datos, \n       aes(x = weight, y = log(fsh), colour = treat, shape = time)) + \n  geom_point(alpha = 0.5) + \n  facet_wrap(time ~ treat) + \n  theme_minimal()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing missing values (geom_point).\n```\n:::\n\n::: {.cell-output-display}\n![](mi_segundo_ggplot_solucion_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(datos, \n       aes(x = weight, y = log(fsh), colour = treat, shape = time)) + \n  geom_point(alpha = 0.5) + \n  facet_wrap(time ~ treat) + \n  theme_classic()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing missing values (geom_point).\n```\n:::\n\n::: {.cell-output-display}\n![](mi_segundo_ggplot_solucion_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::",
    "supporting": [
      "mi_segundo_ggplot_solucion_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}